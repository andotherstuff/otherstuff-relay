PORT=8000

# Number of relay worker processes for parallel message validation and processing
# More workers = better validation throughput (recommended: 4-8)
NUM_RELAY_WORKERS=4

# Number of storage worker processes for batch inserting to ClickHouse
# More workers = higher write throughput (recommended: 2-4)
NUM_STORAGE_WORKERS=2

# ClickHouse connection URL
# Format: http://[user[:password]@]host[:port]/database
# If no database is specified, defaults to 'nostr'
# Examples:
#   http://localhost:8123/nostr
#   http://default:password@localhost:8123/nostr
#   http://user@clickhouse.example.com:8123/my_relay_db
DATABASE_URL=http://localhost:8123/nostr

# Redis connection URL
# Format: redis://[user[:password]@]host[:port][/database]
# Examples:
#   redis://localhost:6379
#   redis://:password@localhost:6379
#   redis://localhost:6379/0
REDIS_URL=redis://localhost:6379

# Maximum age of events to broadcast to subscribers (in seconds)
# Events older than this will not be broadcast to subscribers
# Ephemeral events (kind 20000-29999) are never stored, only broadcast
# Ephemeral events that are too old will be rejected with a false OK message
# Set to 0 to disable age filtering
# Default: 300 (5 minutes)
BROADCAST_MAX_AGE=300

# TTL for hot events stored in Redis (in seconds)
# Hot events are recent events stored in Redis for fast access
# Events older than this are automatically removed from Redis
# Default: 3600 (1 hour)
HOT_EVENTS_TTL=3600