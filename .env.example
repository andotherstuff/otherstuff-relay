PORT=8000

# Number of relay worker processes for parallel message validation and processing
# More workers = better validation throughput (recommended: 16+, possibly hundreds or even thousands)
NUM_RELAY_WORKERS=16

# Number of storage worker processes for batch inserting to OpenSearch
# More workers = higher write throughput (recommended: 2-4, too many counteracts the benefits of batching)
NUM_STORAGE_WORKERS=2

# OpenSearch/ElasticSearch connection URL
# Format: http://[host]:[port] or https://[host]:[port]
# Examples:
#   http://localhost:9200
#   https://opensearch.example.com:9200
OPENSEARCH_URL=http://localhost:9200

# OpenSearch/ElasticSearch authentication (optional)
# Leave blank if no authentication is required
OPENSEARCH_USERNAME=
OPENSEARCH_PASSWORD=

# Redis connection URL
# Format: redis://[user[:password]@]host[:port][/database]
# Examples:
#   redis://localhost:6379
#   redis://:password@localhost:6379
#   redis://localhost:6379/0
REDIS_URL=redis://localhost:6379

# Maximum age of events to broadcast to subscribers (in seconds)
# Events older than this will not be broadcast to subscribers
# Ephemeral events (kind 20000-29999) are never stored, only broadcast
# Ephemeral events that are too old will be rejected with a false OK message
# Set to 0 to disable age filtering
# Default: 300 (5 minutes)
BROADCAST_MAX_AGE=300

# NIP-86 Relay Management API
# Comma-separated list of admin pubkeys (hex format) authorized to use the management API
# Leave empty to disable the management API
# Example: ADMIN_PUBKEYS=pubkey1,pubkey2,pubkey3
ADMIN_PUBKEYS=

# Relay URL for NIP-98 authentication (optional)
# If set, this URL will be used for validating the 'u' tag in NIP-98 auth events
# instead of the actual request URL. Useful when the relay is behind a reverse proxy
# or load balancer where the internal URL differs from the public URL.
# Example: RELAY_URL=https://relay.example.com/
RELAY_URL=

# NIP-11 Relay Information (optional)
# These can also be changed via the NIP-86 management API
RELAY_NAME=
RELAY_DESCRIPTION=
RELAY_ICON=

# Additional NIP-11 fields (optional, cannot be changed via NIP-86)
RELAY_PUBKEY=
RELAY_CONTACT=
RELAY_BANNER=