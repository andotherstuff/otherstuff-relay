PORT=8000

# Number of relay worker processes for parallel message validation and processing
# More workers = better validation throughput (recommended: 4-8)
NUM_RELAY_WORKERS=4

# Number of storage worker processes for batch inserting to ClickHouse
# More workers = higher write throughput (recommended: 2-4)
NUM_STORAGE_WORKERS=2

# ClickHouse connection URL
# Format: http://[user[:password]@]host[:port]/database
# If no database is specified, defaults to 'nostr'
# Examples:
#   http://localhost:8123/nostr
#   http://default:password@localhost:8123/nostr
#   http://user@clickhouse.example.com:8123/my_relay_db
DATABASE_URL=http://localhost:8123/nostr

# Redis connection URL
# Format: redis://[user[:password]@]host[:port][/database]
# Examples:
#   redis://localhost:6379
#   redis://:password@localhost:6379
#   redis://localhost:6379/0
REDIS_URL=redis://localhost:6379

# Maximum age (in seconds) for events to be broadcast to realtime subscriptions
# Events older than this won't be sent to active subscriptions (but are still stored)
# This prevents old events from flooding realtime connections
# Default: 300 (5 minutes)
# Examples:
#   60    - Only broadcast events from the last minute
#   300   - Only broadcast events from the last 5 minutes
#   3600  - Only broadcast events from the last hour
BROADCAST_MAX_AGE=300